url$repository_url$labels_url$comments_url$events_url$html_url$id$node_id$number$title$user$labels$state$locked$assignee$assignees$milestone$comments$created_at$updated_at$closed_at$author_association$active_lock_reason$body$reactions$timeline_url$performed_via_github_app$state_reason$draft$pull_request
https://api.github.com/repos/pandas-dev/pandas/issues/50446$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50446/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50446/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50446/events$https://github.com/pandas-dev/pandas/issues/50446$1511414515$I_kwDOAA0YD85aFlrz$50446$Duplicate --- Suggestion${'login': 'djjeremiahj', 'id': 105996163, 'node_id': 'U_kgDOBlFfgw', 'avatar_url': 'https://avatars.githubusercontent.com/u/105996163?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/djjeremiahj', 'html_url': 'https://github.com/djjeremiahj', 'followers_url': 'https://api.github.com/users/djjeremiahj/followers', 'following_url': 'https://api.github.com/users/djjeremiahj/following{/other_user}', 'gists_url': 'https://api.github.com/users/djjeremiahj/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/djjeremiahj/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/djjeremiahj/subscriptions', 'organizations_url': 'https://api.github.com/users/djjeremiahj/orgs', 'repos_url': 'https://api.github.com/users/djjeremiahj/repos', 'events_url': 'https://api.github.com/users/djjeremiahj/events{/privacy}', 'received_events_url': 'https://api.github.com/users/djjeremiahj/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-27 04:08:38$2022-12-27 04:08:38$$NONE$$"Add functinality to reference ""False"" item.

example:
bool_series = df.duplicated(keep='first', **reference=yes**)

1. Dog
2. Cat
3. Dog

output
1. False,NaN
2. False,NaN
3. True, 1

This would allow you to flag the ""is duplicated items"" (True), skip processing, but then at a later time, reference the output of the False items.

I need to keep the data integrity, but stop duplicate processing if it's a duplicate.

"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50446/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50446/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50445$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50445/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50445/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50445/events$https://github.com/pandas-dev/pandas/pull/50445$1511387003$PR_kwDOAA0YD85GOaOX$50445$TST: Add test_ to four tests in test_readlines.py and fix two of them${'login': 'phershbe', 'id': 25594870, 'node_id': 'MDQ6VXNlcjI1NTk0ODcw', 'avatar_url': 'https://avatars.githubusercontent.com/u/25594870?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phershbe', 'html_url': 'https://github.com/phershbe', 'followers_url': 'https://api.github.com/users/phershbe/followers', 'following_url': 'https://api.github.com/users/phershbe/following{/other_user}', 'gists_url': 'https://api.github.com/users/phershbe/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phershbe/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phershbe/subscriptions', 'organizations_url': 'https://api.github.com/users/phershbe/orgs', 'repos_url': 'https://api.github.com/users/phershbe/repos', 'events_url': 'https://api.github.com/users/phershbe/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phershbe/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-27 03:03:14$2022-12-27 03:03:14$$NONE$$"Four tests in https://github.com/pandas-dev/pandas/blob/main/pandas/tests/io/json/test_readlines.py weren't running because they didn't have `test_` in front of their names, fixed those.

Two of those tests were not passing because the JSON data was turning booleans into 1s and 0s which was conflicting with the booleans in the compared data, so added `int` before all of the booleans in the compared data. Had detailed comments explaining this but shortened them in order to pass Flake8.

- [x] closes #50378
- [x] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit)."${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50445/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50445/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50445', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50445', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50445.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50445.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50444$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50444/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50444/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50444/events$https://github.com/pandas-dev/pandas/pull/50444$1511382949$PR_kwDOAA0YD85GOZZ0$50444$BUG: groupby.nth with NA values in groupings after subsetting to SeriesGroupBy${'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 233160, 'node_id': 'MDU6TGFiZWwyMzMxNjA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Groupby', 'name': 'Groupby', 'color': '729FCF', 'default': False, 'description': None}, {'id': 2822342, 'node_id': 'MDU6TGFiZWwyODIyMzQy', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Missing-data', 'name': 'Missing-data', 'color': 'd7e102', 'default': False, 'description': 'np.nan, pd.NaT, pd.NA, dropna, isnull, interpolate'}]$open$False$$[]${'url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42', 'html_url': 'https://github.com/pandas-dev/pandas/milestone/42', 'labels_url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42/labels', 'id': 1945020, 'node_id': 'MDk6TWlsZXN0b25lMTk0NTAyMA==', 'number': 42, 'title': '2.0', 'description': '', 'creator': {'login': 'jreback', 'id': 953992, 'node_id': 'MDQ6VXNlcjk1Mzk5Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/953992?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jreback', 'html_url': 'https://github.com/jreback', 'followers_url': 'https://api.github.com/users/jreback/followers', 'following_url': 'https://api.github.com/users/jreback/following{/other_user}', 'gists_url': 'https://api.github.com/users/jreback/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jreback/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jreback/subscriptions', 'organizations_url': 'https://api.github.com/users/jreback/orgs', 'repos_url': 'https://api.github.com/users/jreback/repos', 'events_url': 'https://api.github.com/users/jreback/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jreback/received_events', 'type': 'User', 'site_admin': False}, 'open_issues': 53, 'closed_issues': 854, 'state': 'open', 'created_at': '2016-08-16T13:21:24Z', 'updated_at': '2022-12-27T02:53:32Z', 'due_on': '2023-01-31T08:00:00Z', 'closed_at': None}$0$2022-12-27 02:53:32$2022-12-27 02:53:32$$MEMBER$$"- [x] closes #26454 (Replace xxxx with the GitHub issue number)
- [x] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [x] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [x] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [x] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature."${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50444/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50444/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50444', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50444', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50444.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50444.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50443$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50443/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50443/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50443/events$https://github.com/pandas-dev/pandas/pull/50443$1511235443$PR_kwDOAA0YD85GN6Kf$50443$TST: Verify isin returns consistent results for passed iterables${'login': 'jessica-writes-code', 'id': 10662138, 'node_id': 'MDQ6VXNlcjEwNjYyMTM4', 'avatar_url': 'https://avatars.githubusercontent.com/u/10662138?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jessica-writes-code', 'html_url': 'https://github.com/jessica-writes-code', 'followers_url': 'https://api.github.com/users/jessica-writes-code/followers', 'following_url': 'https://api.github.com/users/jessica-writes-code/following{/other_user}', 'gists_url': 'https://api.github.com/users/jessica-writes-code/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jessica-writes-code/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jessica-writes-code/subscriptions', 'organizations_url': 'https://api.github.com/users/jessica-writes-code/orgs', 'repos_url': 'https://api.github.com/users/jessica-writes-code/repos', 'events_url': 'https://api.github.com/users/jessica-writes-code/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jessica-writes-code/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-26 20:54:01$2022-12-26 21:21:20$$NONE$$"Add tests to verify that the `Series` method `isin` returns consistent results when passed iterables with different dtypes. (See #50234.)

- [ ] closes #50234
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [x] ~Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.~ (Not applicable.)
- [x] ~Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.~ (Not applicable.)
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50443/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50443/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50443', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50443', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50443.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50443.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50442$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50442/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50442/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50442/events$https://github.com/pandas-dev/pandas/issues/50442$1511176496$I_kwDOAA0YD85aErkw$50442$BUG: Using datetime global in query expression raises UndefinedVariableError${'login': 'phillipuniverse', 'id': 684275, 'node_id': 'MDQ6VXNlcjY4NDI3NQ==', 'avatar_url': 'https://avatars.githubusercontent.com/u/684275?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phillipuniverse', 'html_url': 'https://github.com/phillipuniverse', 'followers_url': 'https://api.github.com/users/phillipuniverse/followers', 'following_url': 'https://api.github.com/users/phillipuniverse/following{/other_user}', 'gists_url': 'https://api.github.com/users/phillipuniverse/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phillipuniverse/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phillipuniverse/subscriptions', 'organizations_url': 'https://api.github.com/users/phillipuniverse/orgs', 'repos_url': 'https://api.github.com/users/phillipuniverse/repos', 'events_url': 'https://api.github.com/users/phillipuniverse/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phillipuniverse/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 1954720290, 'node_id': 'MDU6TGFiZWwxOTU0NzIwMjkw', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Needs%20Triage', 'name': 'Needs Triage', 'color': '0052cc', 'default': False, 'description': 'Issue that has not been reviewed by a pandas team member'}]$open$False$$[]$$2$2022-12-26 19:18:47$2022-12-26 20:38:23$$NONE$$"### Pandas version checks

- [X] I have checked that this issue has not already been reported.

- [X] I have confirmed this bug exists on the [latest version](https://pandas.pydata.org/docs/whatsnew/index.html) of pandas.

- [X] I have confirmed this bug exists on the main branch of pandas.


### Reproducible Example

```python
def test_reproduction():
    unfiltered = DataFrame(
        {
            ""planned_date"": {
                ""0"": date.fromisoformat(""2020-10-01""),
                ""1"": date.fromisoformat(""2020-08-01""),
            },
        }
    )
    filtered = unfiltered.query(f'planned_date >= datetime.strptime(""2020-09-01"", ""%Y-%m-%d"").date()')\
        .copy().reset_index(drop=True)
    assert (
        filtered.to_json()
        == unfiltered.iloc[[0]].reset_index(drop=True).to_json()
    )
```

This results in the following exception, whereas on versions before 1.5.0 it works
```
            except KeyError as err:
>               raise UndefinedVariableError(key, is_local) from err
E               pandas.errors.UndefinedVariableError: name 'datetime' is not defined
```

### Issue Description

The behavior change in #47273 appears to make it to where I cannot use the `datetime` global in a query string being passed to eval. I'm also just not sure what the right way is to now access globals within an eval, is there a better way to write this query?

### Expected Behavior

Test passes

### Installed Versions

<details>

INSTALLED VERSIONS
------------------
commit           : 91111fd99898d9dcaa6bf6bedb662db4108da6e6
python           : 3.9.16.final.0
python-bits      : 64
OS               : Darwin
OS-release       : 22.1.0
Version          : Darwin Kernel Version 22.1.0: Sun Oct  9 20:14:54 PDT 2022; root:xnu-8792.41.9~2/RELEASE_X86_64
machine          : x86_64
processor        : i386
byteorder        : little
LC_ALL           : en_US.UTF-8
LANG             : en_US.UTF-8
LOCALE           : en_US.UTF-8

pandas           : 1.5.1
numpy            : 1.23.0
pytz             : 2022.1
dateutil         : 2.8.2
setuptools       : 65.6.3
pip              : 22.1.2
Cython           : None
pytest           : 6.2.5
hypothesis       : None
sphinx           : None
blosc            : None
feather          : None
xlsxwriter       : None
lxml.etree       : 4.9.0
html5lib         : None
pymysql          : 1.0.2
psycopg2         : 2.9.3
jinja2           : None
IPython          : None
pandas_datareader: None
bs4              : 4.11.1
bottleneck       : None
brotli           : None
fastparquet      : None
fsspec           : None
gcsfs            : None
matplotlib       : 3.5.2
numba            : None
numexpr          : None
odfpy            : None
openpyxl         : 3.0.10
pandas_gbq       : None
pyarrow          : 10.0.1
pyreadstat       : None
pyxlsb           : None
s3fs             : None
scipy            : 1.5.4
snappy           : None
sqlalchemy       : 1.4.39
tables           : None
tabulate         : None
xarray           : None
xlrd             : None
xlwt             : None
zstandard        : None
tzdata           : None
</details>
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50442/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50442/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50441$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50441/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50441/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50441/events$https://github.com/pandas-dev/pandas/pull/50441$1511148698$PR_kwDOAA0YD85GNmw5$50441$REF: share TimedeltaArray division code${'login': 'jbrockmendel', 'id': 8078968, 'node_id': 'MDQ6VXNlcjgwNzg5Njg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8078968?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jbrockmendel', 'html_url': 'https://github.com/jbrockmendel', 'followers_url': 'https://api.github.com/users/jbrockmendel/followers', 'following_url': 'https://api.github.com/users/jbrockmendel/following{/other_user}', 'gists_url': 'https://api.github.com/users/jbrockmendel/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jbrockmendel/subscriptions', 'organizations_url': 'https://api.github.com/users/jbrockmendel/orgs', 'repos_url': 'https://api.github.com/users/jbrockmendel/repos', 'events_url': 'https://api.github.com/users/jbrockmendel/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jbrockmendel/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-26 18:45:00$2022-12-27 01:17:37$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50441/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50441/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50441', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50441', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50441.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50441.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50440$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50440/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50440/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50440/events$https://github.com/pandas-dev/pandas/pull/50440$1511090425$PR_kwDOAA0YD85GNaBH$50440$BUG: Fix issue where df.groupby.resample.size returns wide DF instead of MultiIndex Series.${'login': 'dicristina', 'id': 74217512, 'node_id': 'MDQ6VXNlcjc0MjE3NTEy', 'avatar_url': 'https://avatars.githubusercontent.com/u/74217512?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/dicristina', 'html_url': 'https://github.com/dicristina', 'followers_url': 'https://api.github.com/users/dicristina/followers', 'following_url': 'https://api.github.com/users/dicristina/following{/other_user}', 'gists_url': 'https://api.github.com/users/dicristina/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/dicristina/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/dicristina/subscriptions', 'organizations_url': 'https://api.github.com/users/dicristina/orgs', 'repos_url': 'https://api.github.com/users/dicristina/repos', 'events_url': 'https://api.github.com/users/dicristina/events{/privacy}', 'received_events_url': 'https://api.github.com/users/dicristina/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-26 17:07:53$2022-12-26 19:41:53$$CONTRIBUTOR$$"- [x] closes #46826  (Replace xxxx with the GitHub issue number)
- [x] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [x] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [x] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50440/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50440/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50440', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50440', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50440.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50440.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50439$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50439/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50439/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50439/events$https://github.com/pandas-dev/pandas/pull/50439$1511026179$PR_kwDOAA0YD85GNMQe$50439$CLN, TST: clean up and increase coverage in tslib.pyx${'login': 'MarcoGorelli', 'id': 33491632, 'node_id': 'MDQ6VXNlcjMzNDkxNjMy', 'avatar_url': 'https://avatars.githubusercontent.com/u/33491632?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/MarcoGorelli', 'html_url': 'https://github.com/MarcoGorelli', 'followers_url': 'https://api.github.com/users/MarcoGorelli/followers', 'following_url': 'https://api.github.com/users/MarcoGorelli/following{/other_user}', 'gists_url': 'https://api.github.com/users/MarcoGorelli/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/MarcoGorelli/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/MarcoGorelli/subscriptions', 'organizations_url': 'https://api.github.com/users/MarcoGorelli/orgs', 'repos_url': 'https://api.github.com/users/MarcoGorelli/repos', 'events_url': 'https://api.github.com/users/MarcoGorelli/events{/privacy}', 'received_events_url': 'https://api.github.com/users/MarcoGorelli/received_events', 'type': 'User', 'site_admin': False}$[{'id': 211840, 'node_id': 'MDU6TGFiZWwyMTE4NDA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Timeseries', 'name': 'Timeseries', 'color': 'AFEEEE', 'default': False, 'description': None}, {'id': 211029535, 'node_id': 'MDU6TGFiZWwyMTEwMjk1MzU=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Clean', 'name': 'Clean', 'color': '207de5', 'default': False, 'description': None}]$open$False$$[]$$0$2022-12-26 15:08:32$2022-12-26 18:49:28$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50439/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50439/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50439', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50439', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50439.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50439.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50437$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50437/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50437/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50437/events$https://github.com/pandas-dev/pandas/pull/50437$1510379713$PR_kwDOAA0YD85GLB9K$50437$BUG: Series(pyarrow-backed).round raising AttributeError${'login': 'lukemanley', 'id': 8519523, 'node_id': 'MDQ6VXNlcjg1MTk1MjM=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8519523?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/lukemanley', 'html_url': 'https://github.com/lukemanley', 'followers_url': 'https://api.github.com/users/lukemanley/followers', 'following_url': 'https://api.github.com/users/lukemanley/following{/other_user}', 'gists_url': 'https://api.github.com/users/lukemanley/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/lukemanley/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/lukemanley/subscriptions', 'organizations_url': 'https://api.github.com/users/lukemanley/orgs', 'repos_url': 'https://api.github.com/users/lukemanley/repos', 'events_url': 'https://api.github.com/users/lukemanley/events{/privacy}', 'received_events_url': 'https://api.github.com/users/lukemanley/received_events', 'type': 'User', 'site_admin': False}$[{'id': 3303158446, 'node_id': 'MDU6TGFiZWwzMzAzMTU4NDQ2', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Arrow', 'name': 'Arrow', 'color': 'f9d0c4', 'default': False, 'description': 'pyarrow functionality'}]$open$False$$[]$$0$2022-12-25 17:44:10$2022-12-25 17:44:45$$CONTRIBUTOR$$"- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [x] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [x] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [x] Added an entry in the latest `doc/source/whatsnew/v2.0.0.rst` file if fixing a bug or adding a new feature.

Adding `ArrowExtensionArray.round` to fix the following:

```
import pandas as pd

pd.Series([1.23], dtype=""float64[pyarrow]"").round(1)

# AttributeError: 'ArrowExtensionArray' object has no attribute 'round'
```"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50437/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50437/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50437', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50437', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50437.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50437.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50436$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50436/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50436/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50436/events$https://github.com/pandas-dev/pandas/pull/50436$1510306930$PR_kwDOAA0YD85GKzuQ$50436$TST: Make get_array smarter to work for masked arrays${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-25 11:29:03$2022-12-25 11:29:03$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.

This should work ootb when testing with masked arrays"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50436/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50436/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50436', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50436', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50436.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50436.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50435$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50435/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50435/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50435/events$https://github.com/pandas-dev/pandas/pull/50435$1510302903$PR_kwDOAA0YD85GKy8j$50435$ BUG: inconsistent handling of exact=False case in to_datetime parsing${'login': 'MarcoGorelli', 'id': 33491632, 'node_id': 'MDQ6VXNlcjMzNDkxNjMy', 'avatar_url': 'https://avatars.githubusercontent.com/u/33491632?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/MarcoGorelli', 'html_url': 'https://github.com/MarcoGorelli', 'followers_url': 'https://api.github.com/users/MarcoGorelli/followers', 'following_url': 'https://api.github.com/users/MarcoGorelli/following{/other_user}', 'gists_url': 'https://api.github.com/users/MarcoGorelli/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/MarcoGorelli/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/MarcoGorelli/subscriptions', 'organizations_url': 'https://api.github.com/users/MarcoGorelli/orgs', 'repos_url': 'https://api.github.com/users/MarcoGorelli/repos', 'events_url': 'https://api.github.com/users/MarcoGorelli/events{/privacy}', 'received_events_url': 'https://api.github.com/users/MarcoGorelli/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 211840, 'node_id': 'MDU6TGFiZWwyMTE4NDA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Timeseries', 'name': 'Timeseries', 'color': 'AFEEEE', 'default': False, 'description': None}]$open$False$$[]$$0$2022-12-25 11:06:42$2022-12-26 15:15:27$$MEMBER$$"- [ ] closes #50412 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.

Haven't added a whatsnew note, as `exact` never worked to begin with for ISO8601 formats, and this just corrects #49333"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50435/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50435/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50435', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50435', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50435.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50435.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50433$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50433/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50433/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50433/events$https://github.com/pandas-dev/pandas/pull/50433$1510215965$PR_kwDOAA0YD85GKiqp$50433$CLN: Assorted${'login': 'jbrockmendel', 'id': 8078968, 'node_id': 'MDQ6VXNlcjgwNzg5Njg=', 'avatar_url': 'https://avatars.githubusercontent.com/u/8078968?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jbrockmendel', 'html_url': 'https://github.com/jbrockmendel', 'followers_url': 'https://api.github.com/users/jbrockmendel/followers', 'following_url': 'https://api.github.com/users/jbrockmendel/following{/other_user}', 'gists_url': 'https://api.github.com/users/jbrockmendel/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jbrockmendel/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jbrockmendel/subscriptions', 'organizations_url': 'https://api.github.com/users/jbrockmendel/orgs', 'repos_url': 'https://api.github.com/users/jbrockmendel/repos', 'events_url': 'https://api.github.com/users/jbrockmendel/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jbrockmendel/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-25 00:31:44$2022-12-27 01:25:17$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50433/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50433/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50433', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50433', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50433.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50433.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50432$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50432/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50432/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50432/events$https://github.com/pandas-dev/pandas/pull/50432$1510180067$PR_kwDOAA0YD85GKcDV$50432$ENH: Add lazy copy to align${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-24 19:42:48$2022-12-24 19:42:48$$MEMBER$$"- [ ] xref #49473 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50432/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50432/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50432', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50432', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50432.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50432.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50431$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50431/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50431/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50431/events$https://github.com/pandas-dev/pandas/pull/50431$1510170092$PR_kwDOAA0YD85GKaLp$50431$ENH: Add lazy copy for drop duplicates${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-24 18:36:43$2022-12-24 18:38:32$$MEMBER$$"- [ ] xref #49473 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.



The series case will work after #50429"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50431/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50431/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50431', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50431', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50431.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50431.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50429$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50429/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50429/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50429/events$https://github.com/pandas-dev/pandas/pull/50429$1510108437$PR_kwDOAA0YD85GKNiK$50429$ENH: Use lazy copy for dropna${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-24 14:31:26$2022-12-24 17:48:43$$MEMBER$$"- [ ] xref #49473 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50429/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50429/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50429', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50429', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50429.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50429.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50428$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50428/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50428/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50428/events$https://github.com/pandas-dev/pandas/pull/50428$1510105970$PR_kwDOAA0YD85GKNEP$50428$ENH: Use lazy copy in infer objects${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-24 14:19:28$2022-12-24 17:33:36$$MEMBER$$"- [ ] xref #49473 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50428/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50428/timeline$$$1.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50428', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50428', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50428.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50428.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50427$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50427/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50427/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50427/events$https://github.com/pandas-dev/pandas/issues/50427$1510092883$I_kwDOAA0YD85aAjBT$50427$BUG: `xticklables` is not correctly set when using `df.plot.box` with group-by ${'login': 'YMaster7', 'id': 73883983, 'node_id': 'MDQ6VXNlcjczODgzOTgz', 'avatar_url': 'https://avatars.githubusercontent.com/u/73883983?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/YMaster7', 'html_url': 'https://github.com/YMaster7', 'followers_url': 'https://api.github.com/users/YMaster7/followers', 'following_url': 'https://api.github.com/users/YMaster7/following{/other_user}', 'gists_url': 'https://api.github.com/users/YMaster7/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/YMaster7/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/YMaster7/subscriptions', 'organizations_url': 'https://api.github.com/users/YMaster7/orgs', 'repos_url': 'https://api.github.com/users/YMaster7/repos', 'events_url': 'https://api.github.com/users/YMaster7/events{/privacy}', 'received_events_url': 'https://api.github.com/users/YMaster7/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 1954720290, 'node_id': 'MDU6TGFiZWwxOTU0NzIwMjkw', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Needs%20Triage', 'name': 'Needs Triage', 'color': '0052cc', 'default': False, 'description': 'Issue that has not been reviewed by a pandas team member'}]$open$False$$[]$$0$2022-12-24 13:21:13$2022-12-24 13:21:13$$NONE$$"### Pandas version checks

- [X] I have checked that this issue has not already been reported.

- [X] I have confirmed this bug exists on the [latest version](https://pandas.pydata.org/docs/whatsnew/index.html) of pandas.

- [ ] I have confirmed this bug exists on the main branch of pandas.


### Reproducible Example

```python
import pandas as pd

df = pd.DataFrame({'value': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                   'label': ['c', 'c', 'c', 'c', 'b', 'b', 'b', 'b', 'a', 'a']})
df.label = pd.Categorical(df.label, categories=['c', 'b', 'a'], ordered=True)
df.plot.box(by='label')
```


### Issue Description

If I try to plot a dataframe and group it by a categorical column, the dataframe is not correctly plotted.

![image](https://user-images.githubusercontent.com/73883983/209437886-bdadce22-d9cd-4473-be5f-2ca9d5709b1b.png)


### Expected Behavior

Expected outcome should be like:

![image](https://user-images.githubusercontent.com/73883983/209437856-6d2287b7-1eac-4efd-b7ba-3c48cd03bb13.png)

This image was produced by the code below.

```
import pandas as pd

df = pd.DataFrame({'value': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
                   'label': ['c', 'c', 'c', 'c', 'b', 'b', 'b', 'b', 'a', 'a']})
df.plot.box(by='label')
```

### Installed Versions

<details>

INSTALLED VERSIONS
------------------
commit           : 8dab54d6573f7186ff0c3b6364d5e4dd635ff3e7
python           : 3.9.15.final.0
python-bits      : 64
OS               : Linux
OS-release       : 5.15.79.1-microsoft-standard-WSL2
Version          : #1 SMP Wed Nov 23 01:01:46 UTC 2022
machine          : x86_64
processor        : x86_64
byteorder        : little
LC_ALL           : None
LANG             : C.UTF-8
LOCALE           : en_US.UTF-8

pandas           : 1.5.2
numpy            : 1.24.0
pytz             : 2022.7
dateutil         : 2.8.2
setuptools       : 65.6.3
pip              : 22.3.1
Cython           : None
pytest           : None
hypothesis       : None
sphinx           : None
blosc            : None
feather          : None
xlsxwriter       : None
lxml.etree       : 4.9.2
html5lib         : None
pymysql          : None
psycopg2         : None
jinja2           : None
IPython          : 8.7.0
pandas_datareader: None
bs4              : None
bottleneck       : None
brotli           : None
fastparquet      : None
fsspec           : None
gcsfs            : None
matplotlib       : 3.6.2
numba            : None
numexpr          : None
odfpy            : None
openpyxl         : None
pandas_gbq       : None
pyarrow          : None
pyreadstat       : None
pyxlsb           : None
s3fs             : None
scipy            : 1.9.3
snappy           : None
sqlalchemy       : None
tables           : None
tabulate         : None
xarray           : None
xlrd             : None
xlwt             : None
zstandard        : None
tzdata           : None

</details>
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50427/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50427/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50426$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50426/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50426/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50426/events$https://github.com/pandas-dev/pandas/pull/50426$1510049222$PR_kwDOAA0YD85GKBO1$50426$ENH: Use cow for reindex_like${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-24 10:57:33$2022-12-24 10:57:33$$MEMBER$$"- [ ] xref #49473 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50426/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50426/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50426', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50426', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50426.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50426.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50425$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50425/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50425/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50425/events$https://github.com/pandas-dev/pandas/pull/50425$1509890555$PR_kwDOAA0YD85GJgjx$50425$REF: Make Util functions accessible from C${'login': 'WillAyd', 'id': 609873, 'node_id': 'MDQ6VXNlcjYwOTg3Mw==', 'avatar_url': 'https://avatars.githubusercontent.com/u/609873?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/WillAyd', 'html_url': 'https://github.com/WillAyd', 'followers_url': 'https://api.github.com/users/WillAyd/followers', 'following_url': 'https://api.github.com/users/WillAyd/following{/other_user}', 'gists_url': 'https://api.github.com/users/WillAyd/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/WillAyd/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/WillAyd/subscriptions', 'organizations_url': 'https://api.github.com/users/WillAyd/orgs', 'repos_url': 'https://api.github.com/users/WillAyd/repos', 'events_url': 'https://api.github.com/users/WillAyd/events{/privacy}', 'received_events_url': 'https://api.github.com/users/WillAyd/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$2$2022-12-24 01:01:53$2022-12-25 00:33:46$$MEMBER$$"Came up when reviewing #50400 with @lithomas1 . Doesn't directly solve this, but a lot of our util.pyx functions are in essence C functions to begin with. Because they are implemented in Cython though, its a built difficult to use them in our non-Cython extensions like JSON.

This takes the code out of the Cython file and ports to a C header file. This is mostly a verbatim copy with some special considerations done for NA handling. Marking as draft because I'm not sure a header-only solution is better than a shared library, but need more time to mess around with the setup script. May also just wait until we implement meson fully"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50425/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50425/timeline$$$1.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50425', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50425', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50425.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50425.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50424$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50424/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50424/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50424/events$https://github.com/pandas-dev/pandas/pull/50424$1509807186$PR_kwDOAA0YD85GJOux$50424$PDEP6: ban upcasting in setitem-like operations${'login': 'MarcoGorelli', 'id': 33491632, 'node_id': 'MDQ6VXNlcjMzNDkxNjMy', 'avatar_url': 'https://avatars.githubusercontent.com/u/33491632?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/MarcoGorelli', 'html_url': 'https://github.com/MarcoGorelli', 'followers_url': 'https://api.github.com/users/MarcoGorelli/followers', 'following_url': 'https://api.github.com/users/MarcoGorelli/following{/other_user}', 'gists_url': 'https://api.github.com/users/MarcoGorelli/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/MarcoGorelli/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/MarcoGorelli/subscriptions', 'organizations_url': 'https://api.github.com/users/MarcoGorelli/orgs', 'repos_url': 'https://api.github.com/users/MarcoGorelli/repos', 'events_url': 'https://api.github.com/users/MarcoGorelli/events{/privacy}', 'received_events_url': 'https://api.github.com/users/MarcoGorelli/received_events', 'type': 'User', 'site_admin': False}$[{'id': 4253279386, 'node_id': 'LA_kwDOAA0YD879g-Sa', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/PDEP', 'name': 'PDEP', 'color': '4B02F8', 'default': False, 'description': 'pandas enhancement proposal'}]$open$False$$[]$$2$2022-12-23 21:57:17$2022-12-24 20:03:26$$MEMBER$$"Original discussion: #39584

Turning into a PDEP as I think the `int -> float` warrants some care"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50424/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50424/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50424', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50424', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50424.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50424.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50417$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50417/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50417/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50417/events$https://github.com/pandas-dev/pandas/pull/50417$1509642413$PR_kwDOAA0YD85GIsqk$50417$TST: Add test for Period construction from str with zero nanos${'login': 'lithomas1', 'id': 47963215, 'node_id': 'MDQ6VXNlcjQ3OTYzMjE1', 'avatar_url': 'https://avatars.githubusercontent.com/u/47963215?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/lithomas1', 'html_url': 'https://github.com/lithomas1', 'followers_url': 'https://api.github.com/users/lithomas1/followers', 'following_url': 'https://api.github.com/users/lithomas1/following{/other_user}', 'gists_url': 'https://api.github.com/users/lithomas1/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/lithomas1/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/lithomas1/subscriptions', 'organizations_url': 'https://api.github.com/users/lithomas1/orgs', 'repos_url': 'https://api.github.com/users/lithomas1/repos', 'events_url': 'https://api.github.com/users/lithomas1/events{/privacy}', 'received_events_url': 'https://api.github.com/users/lithomas1/received_events', 'type': 'User', 'site_admin': False}$[{'id': 127685, 'node_id': 'MDU6TGFiZWwxMjc2ODU=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Testing', 'name': 'Testing', 'color': 'C4A000', 'default': False, 'description': 'pandas testing functions or related to the test suite'}, {'id': 60635328, 'node_id': 'MDU6TGFiZWw2MDYzNTMyOA==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Period', 'name': 'Period', 'color': 'eb6420', 'default': False, 'description': 'Period data type'}]$open$False$$[]$$2$2022-12-23 18:35:05$2022-12-23 22:23:39$$MEMBER$$"- [ ] xref #50149 (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50417/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50417/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50417', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50417', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50417.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50417.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50416$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50416/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50416/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50416/events$https://github.com/pandas-dev/pandas/pull/50416$1509630900$PR_kwDOAA0YD85GIqBN$50416$CLN: Use exclusions in determination of _selected_obj${'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}$[{'id': 233160, 'node_id': 'MDU6TGFiZWwyMzMxNjA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Groupby', 'name': 'Groupby', 'color': '729FCF', 'default': False, 'description': None}, {'id': 211029535, 'node_id': 'MDU6TGFiZWwyMTEwMjk1MzU=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Clean', 'name': 'Clean', 'color': '207de5', 'default': False, 'description': None}]$open$False$$[]${'url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42', 'html_url': 'https://github.com/pandas-dev/pandas/milestone/42', 'labels_url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42/labels', 'id': 1945020, 'node_id': 'MDk6TWlsZXN0b25lMTk0NTAyMA==', 'number': 42, 'title': '2.0', 'description': '', 'creator': {'login': 'jreback', 'id': 953992, 'node_id': 'MDQ6VXNlcjk1Mzk5Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/953992?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jreback', 'html_url': 'https://github.com/jreback', 'followers_url': 'https://api.github.com/users/jreback/followers', 'following_url': 'https://api.github.com/users/jreback/following{/other_user}', 'gists_url': 'https://api.github.com/users/jreback/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jreback/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jreback/subscriptions', 'organizations_url': 'https://api.github.com/users/jreback/orgs', 'repos_url': 'https://api.github.com/users/jreback/repos', 'events_url': 'https://api.github.com/users/jreback/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jreback/received_events', 'type': 'User', 'site_admin': False}, 'open_issues': 53, 'closed_issues': 854, 'state': 'open', 'created_at': '2016-08-16T13:21:24Z', 'updated_at': '2022-12-27T02:53:32Z', 'due_on': '2023-01-31T08:00:00Z', 'closed_at': None}$2$2022-12-23 18:26:30$2022-12-23 21:25:49$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.

Toward #46944.

Currently we use whether a grouping is in-axis or not to determine if it should make it into `_selected_obj`. This is almost the same as using `exclusions`, except for a TimeGrouper. Here, the grouping data may arise from a column and hence should be excluded, however the grouping data is not the column itself but rather derived from the column, so it is not technically in-axis. Such columns should not make it into `_selected_obj`, so we should prefer using excluded directly rather than in-axis.

This does not change the behavior of Resampler because Resampler is a subclass of BaseGroupBy which does not have the selection context."${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50416/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50416/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50416', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50416', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50416.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50416.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50415$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50415/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50415/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50415/events$https://github.com/pandas-dev/pandas/pull/50415$1509593635$PR_kwDOAA0YD85GIhv8$50415$Add cow mechanism to rename_axis${'login': 'phofl', 'id': 61934744, 'node_id': 'MDQ6VXNlcjYxOTM0NzQ0', 'avatar_url': 'https://avatars.githubusercontent.com/u/61934744?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/phofl', 'html_url': 'https://github.com/phofl', 'followers_url': 'https://api.github.com/users/phofl/followers', 'following_url': 'https://api.github.com/users/phofl/following{/other_user}', 'gists_url': 'https://api.github.com/users/phofl/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/phofl/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/phofl/subscriptions', 'organizations_url': 'https://api.github.com/users/phofl/orgs', 'repos_url': 'https://api.github.com/users/phofl/repos', 'events_url': 'https://api.github.com/users/phofl/events{/privacy}', 'received_events_url': 'https://api.github.com/users/phofl/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$0$2022-12-23 17:43:57$2022-12-24 10:41:23$$MEMBER$$"- [ ] closes #xxxx (Replace xxxx with the GitHub issue number)
- [ ] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [ ] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [ ] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [ ] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50415/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50415/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50415', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50415', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50415.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50415.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50414$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50414/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50414/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50414/events$https://github.com/pandas-dev/pandas/pull/50414$1509536828$PR_kwDOAA0YD85GIVj6$50414$BUG: Grouper specified by key not regarded as in-axis${'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 233160, 'node_id': 'MDU6TGFiZWwyMzMxNjA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Groupby', 'name': 'Groupby', 'color': '729FCF', 'default': False, 'description': None}]$open$False$$[]${'url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42', 'html_url': 'https://github.com/pandas-dev/pandas/milestone/42', 'labels_url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42/labels', 'id': 1945020, 'node_id': 'MDk6TWlsZXN0b25lMTk0NTAyMA==', 'number': 42, 'title': '2.0', 'description': '', 'creator': {'login': 'jreback', 'id': 953992, 'node_id': 'MDQ6VXNlcjk1Mzk5Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/953992?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jreback', 'html_url': 'https://github.com/jreback', 'followers_url': 'https://api.github.com/users/jreback/followers', 'following_url': 'https://api.github.com/users/jreback/following{/other_user}', 'gists_url': 'https://api.github.com/users/jreback/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jreback/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jreback/subscriptions', 'organizations_url': 'https://api.github.com/users/jreback/orgs', 'repos_url': 'https://api.github.com/users/jreback/repos', 'events_url': 'https://api.github.com/users/jreback/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jreback/received_events', 'type': 'User', 'site_admin': False}, 'open_issues': 53, 'closed_issues': 854, 'state': 'open', 'created_at': '2016-08-16T13:21:24Z', 'updated_at': '2022-12-27T02:53:32Z', 'due_on': '2023-01-31T08:00:00Z', 'closed_at': None}$0$2022-12-23 16:34:14$2022-12-23 16:35:44$$MEMBER$$"- [x] closes #50413 (Replace xxxx with the GitHub issue number)
- [x] [Tests added and passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#writing-tests) if fixing a bug or adding a new feature
- [x] All [code checks passed](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#pre-commit).
- [x] Added [type annotations](https://pandas.pydata.org/pandas-docs/dev/development/contributing_codebase.html#type-hints) to new arguments/methods/functions.
- [x] Added an entry in the latest `doc/source/whatsnew/vX.X.X.rst` file if fixing a bug or adding a new feature.

Found this working on #46944. It was a case where we add to exclusions but consider the grouping as not in-axis. This creates a subtle difference in `_obj_with_exclusions` vs `_selected_obj`."${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50414/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50414/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50414', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50414', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50414.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50414.patch', 'merged_at': None}
https://api.github.com/repos/pandas-dev/pandas/issues/50413$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50413/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50413/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50413/events$https://github.com/pandas-dev/pandas/issues/50413$1509519854$I_kwDOAA0YD85Z-XHu$50413$BUG: Grouper specified by key not regarded as in-axis${'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 233160, 'node_id': 'MDU6TGFiZWwyMzMxNjA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Groupby', 'name': 'Groupby', 'color': '729FCF', 'default': False, 'description': None}]$open$False${'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}$[{'login': 'rhshadrach', 'id': 45562402, 'node_id': 'MDQ6VXNlcjQ1NTYyNDAy', 'avatar_url': 'https://avatars.githubusercontent.com/u/45562402?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/rhshadrach', 'html_url': 'https://github.com/rhshadrach', 'followers_url': 'https://api.github.com/users/rhshadrach/followers', 'following_url': 'https://api.github.com/users/rhshadrach/following{/other_user}', 'gists_url': 'https://api.github.com/users/rhshadrach/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/rhshadrach/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/rhshadrach/subscriptions', 'organizations_url': 'https://api.github.com/users/rhshadrach/orgs', 'repos_url': 'https://api.github.com/users/rhshadrach/repos', 'events_url': 'https://api.github.com/users/rhshadrach/events{/privacy}', 'received_events_url': 'https://api.github.com/users/rhshadrach/received_events', 'type': 'User', 'site_admin': False}]$$0$2022-12-23 16:17:28$2022-12-23 16:17:28$$MEMBER$$"Currently using `as_index=False` only includes in-axis groupers (see #49519). Defining a Grouper by the `key` argument is in-axis, but not regarded as such.

```
df = pd.DataFrame({'a': [1, 1, 2], 'b': [1, 1, 2], 'c': [3, 4, 5]})
gb = df.groupby([pd.Grouper(key='a'), pd.Grouper(key='b')], as_index=False)
result = gb.sum()
print(result)
#    c
# 0  7
# 1  5

gb2 = df.groupby(['a', 'b'], as_index=False)
result2 = gb2.sum()
print(result2)
#    a  b  c
# 0  1  1  7
# 1  2  2  5
```

The 1st case above should match the output of the 2nd case."${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50413/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50413/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50412$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50412/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50412/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50412/events$https://github.com/pandas-dev/pandas/issues/50412$1509379729$I_kwDOAA0YD85Z906R$50412$BUG: inconsistent handling of exact=False case in to_datetime parsing${'login': 'jorisvandenbossche', 'id': 1020496, 'node_id': 'MDQ6VXNlcjEwMjA0OTY=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1020496?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jorisvandenbossche', 'html_url': 'https://github.com/jorisvandenbossche', 'followers_url': 'https://api.github.com/users/jorisvandenbossche/followers', 'following_url': 'https://api.github.com/users/jorisvandenbossche/following{/other_user}', 'gists_url': 'https://api.github.com/users/jorisvandenbossche/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jorisvandenbossche/subscriptions', 'organizations_url': 'https://api.github.com/users/jorisvandenbossche/orgs', 'repos_url': 'https://api.github.com/users/jorisvandenbossche/repos', 'events_url': 'https://api.github.com/users/jorisvandenbossche/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jorisvandenbossche/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 211840, 'node_id': 'MDU6TGFiZWwyMTE4NDA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Timeseries', 'name': 'Timeseries', 'color': 'AFEEEE', 'default': False, 'description': None}]$open$False$$[]$$2$2022-12-23 14:00:25$2022-12-23 14:09:40$$MEMBER$$"From https://github.com/pandas-dev/pandas/issues/50411#issuecomment-1363972775

The documentation of `to_datetime` says:

> exact : bool, default True
>      Control how `format` is used:
>
>    - If :const:`True`, require an exact `format` match.
>    - If :const:`False`, allow the `format` to match anywhere in the target string.

Based on that, I would expect we don't use anything else in the string that doesn't match the format. But it seems this currently depends on the exact format being used:

```
>>> pd.to_datetime([""19/may/11 01:00:00""], format=""%d/%b/%y"", exact=False)
DatetimeIndex(['2011-05-19'], dtype='datetime64[ns]', freq=None)

>>> pd.to_datetime([""2011-05-19 01:00:00""], format=""%Y-%m-%d"", exact=False)
DatetimeIndex(['2011-05-19 01:00:00'], dtype='datetime64[ns]', freq=None)
```

(happens both on current main and on 1.5)"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50412/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50412/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50411$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50411/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50411/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50411/events$https://github.com/pandas-dev/pandas/issues/50411$1509324259$I_kwDOAA0YD85Z9nXj$50411$Datetime parsing (PDEP-4): allow mixture of ISO formatted strings? ${'login': 'jorisvandenbossche', 'id': 1020496, 'node_id': 'MDQ6VXNlcjEwMjA0OTY=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1020496?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jorisvandenbossche', 'html_url': 'https://github.com/jorisvandenbossche', 'followers_url': 'https://api.github.com/users/jorisvandenbossche/followers', 'following_url': 'https://api.github.com/users/jorisvandenbossche/following{/other_user}', 'gists_url': 'https://api.github.com/users/jorisvandenbossche/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jorisvandenbossche/subscriptions', 'organizations_url': 'https://api.github.com/users/jorisvandenbossche/orgs', 'repos_url': 'https://api.github.com/users/jorisvandenbossche/repos', 'events_url': 'https://api.github.com/users/jorisvandenbossche/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jorisvandenbossche/received_events', 'type': 'User', 'site_admin': False}$[{'id': 211840, 'node_id': 'MDU6TGFiZWwyMTE4NDA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Timeseries', 'name': 'Timeseries', 'color': 'AFEEEE', 'default': False, 'description': None}]$open$False$$[]${'url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42', 'html_url': 'https://github.com/pandas-dev/pandas/milestone/42', 'labels_url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42/labels', 'id': 1945020, 'node_id': 'MDk6TWlsZXN0b25lMTk0NTAyMA==', 'number': 42, 'title': '2.0', 'description': '', 'creator': {'login': 'jreback', 'id': 953992, 'node_id': 'MDQ6VXNlcjk1Mzk5Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/953992?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jreback', 'html_url': 'https://github.com/jreback', 'followers_url': 'https://api.github.com/users/jreback/followers', 'following_url': 'https://api.github.com/users/jreback/following{/other_user}', 'gists_url': 'https://api.github.com/users/jreback/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jreback/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jreback/subscriptions', 'organizations_url': 'https://api.github.com/users/jreback/orgs', 'repos_url': 'https://api.github.com/users/jreback/repos', 'events_url': 'https://api.github.com/users/jreback/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jreback/received_events', 'type': 'User', 'site_admin': False}, 'open_issues': 53, 'closed_issues': 854, 'state': 'open', 'created_at': '2016-08-16T13:21:24Z', 'updated_at': '2022-12-27T02:53:32Z', 'due_on': '2023-01-31T08:00:00Z', 'closed_at': None}$9$2022-12-23 13:00:34$2022-12-23 18:48:32$$MEMBER$$"In pandas < 2, parsing datetime strings that are all strictly ISO formatted strings (so there is no ambiguity) but have slightly different formatting because of a different resolution, works fine:

```
>>> pd.to_datetime([""2022-01-01T09:00:00"", ""2022-01-02T09:00:00.123""])
DatetimeIndex(['2022-01-01 09:00:00', '2022-01-02 09:00:00.123000'], dtype='datetime64[ns]', freq=None)
```

With the changes related to datetime parsing (PDEP-4), this will now infer the format from the first, and then parsing the second fails:

```
>>> pd.to_datetime([""2022-01-01T09:00:00"", ""2022-01-02T09:00:00.123""])
...
ValueError: time data ""2022-01-02T09:00:00.123"" at position 1 doesn't match format ""%Y-%m-%dT%H:%M:%S""
```

This is of course expected and can be explained with the changes in behaviour. But I do wonder if we want to allow some way to still parse such data in a fast way. 

For this specific case, you can't specify a format since it is inconsistent. And before, this was actually fast because it took a fast ISO parsing path. 
With the current dev version of pandas, I don't see any way to parse this in a performant way? 

(this also came up in pyarrow's CI, it was an easy fix on our side to update the strings in the test, but still wanted to raise this as a specific case to consider, since with real world data you can't necessarily easily update your data)

cc @MarcoGorelli "${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50411/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50411/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50410$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50410/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50410/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50410/events$https://github.com/pandas-dev/pandas/issues/50410$1509310192$I_kwDOAA0YD85Z9j7w$50410$Datetime parsing (PDEP-4): should time strings be inferred?${'login': 'jorisvandenbossche', 'id': 1020496, 'node_id': 'MDQ6VXNlcjEwMjA0OTY=', 'avatar_url': 'https://avatars.githubusercontent.com/u/1020496?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jorisvandenbossche', 'html_url': 'https://github.com/jorisvandenbossche', 'followers_url': 'https://api.github.com/users/jorisvandenbossche/followers', 'following_url': 'https://api.github.com/users/jorisvandenbossche/following{/other_user}', 'gists_url': 'https://api.github.com/users/jorisvandenbossche/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jorisvandenbossche/subscriptions', 'organizations_url': 'https://api.github.com/users/jorisvandenbossche/orgs', 'repos_url': 'https://api.github.com/users/jorisvandenbossche/repos', 'events_url': 'https://api.github.com/users/jorisvandenbossche/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jorisvandenbossche/received_events', 'type': 'User', 'site_admin': False}$[{'id': 211840, 'node_id': 'MDU6TGFiZWwyMTE4NDA=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Timeseries', 'name': 'Timeseries', 'color': 'AFEEEE', 'default': False, 'description': None}]$open$False$$[]${'url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42', 'html_url': 'https://github.com/pandas-dev/pandas/milestone/42', 'labels_url': 'https://api.github.com/repos/pandas-dev/pandas/milestones/42/labels', 'id': 1945020, 'node_id': 'MDk6TWlsZXN0b25lMTk0NTAyMA==', 'number': 42, 'title': '2.0', 'description': '', 'creator': {'login': 'jreback', 'id': 953992, 'node_id': 'MDQ6VXNlcjk1Mzk5Mg==', 'avatar_url': 'https://avatars.githubusercontent.com/u/953992?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/jreback', 'html_url': 'https://github.com/jreback', 'followers_url': 'https://api.github.com/users/jreback/followers', 'following_url': 'https://api.github.com/users/jreback/following{/other_user}', 'gists_url': 'https://api.github.com/users/jreback/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/jreback/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/jreback/subscriptions', 'organizations_url': 'https://api.github.com/users/jreback/orgs', 'repos_url': 'https://api.github.com/users/jreback/repos', 'events_url': 'https://api.github.com/users/jreback/events{/privacy}', 'received_events_url': 'https://api.github.com/users/jreback/received_events', 'type': 'User', 'site_admin': False}, 'open_issues': 53, 'closed_issues': 854, 'state': 'open', 'created_at': '2016-08-16T13:21:24Z', 'updated_at': '2022-12-27T02:53:32Z', 'due_on': '2023-01-31T08:00:00Z', 'closed_at': None}$3$2022-12-23 12:43:42$2022-12-23 15:01:14$$MEMBER$$"Example with latest main (this now raises a warning, the actual result is the same as on released pandas):

```
>>> pd.to_datetime(['09:00', '09:30', '10:00'])
<stdin>:1: UserWarning: Could not infer format, so each element will be parsed individually by `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
DatetimeIndex(['2022-12-23 09:00:00', '2022-12-23 09:30:00',
               '2022-12-23 10:00:00'],
              dtype='datetime64[ns]', freq=None)
```

The above actually has a consistent format, but not one we can infer at the moment. Should we? 

(saw this warning in pyarrow's CI, we were using `to_datetime` to parse time strings into datetime.time objects, by directly accessing `.time()`, so the actual date didn't matter in that use case)

cc @MarcoGorelli 
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50410/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50410/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50409$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50409/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50409/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50409/events$https://github.com/pandas-dev/pandas/issues/50409$1509146751$I_kwDOAA0YD85Z88B_$50409$BUG: Read_csv won't warn/skip bad lines when nrows is being used${'login': 'd2thebee', 'id': 79337886, 'node_id': 'MDQ6VXNlcjc5MzM3ODg2', 'avatar_url': 'https://avatars.githubusercontent.com/u/79337886?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/d2thebee', 'html_url': 'https://github.com/d2thebee', 'followers_url': 'https://api.github.com/users/d2thebee/followers', 'following_url': 'https://api.github.com/users/d2thebee/following{/other_user}', 'gists_url': 'https://api.github.com/users/d2thebee/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/d2thebee/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/d2thebee/subscriptions', 'organizations_url': 'https://api.github.com/users/d2thebee/orgs', 'repos_url': 'https://api.github.com/users/d2thebee/repos', 'events_url': 'https://api.github.com/users/d2thebee/events{/privacy}', 'received_events_url': 'https://api.github.com/users/d2thebee/received_events', 'type': 'User', 'site_admin': False}$[{'id': 76811, 'node_id': 'MDU6TGFiZWw3NjgxMQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Bug', 'name': 'Bug', 'color': 'e10c02', 'default': False, 'description': None}, {'id': 47229171, 'node_id': 'MDU6TGFiZWw0NzIyOTE3MQ==', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/IO%20CSV', 'name': 'IO CSV', 'color': '5319e7', 'default': False, 'description': 'read_csv, to_csv'}, {'id': 307649777, 'node_id': 'MDU6TGFiZWwzMDc2NDk3Nzc=', 'url': 'https://api.github.com/repos/pandas-dev/pandas/labels/Needs%20Info', 'name': 'Needs Info', 'color': '207de5', 'default': False, 'description': 'Clarification about behavior needed to assess issue'}]$open$False$$[]$$1$2022-12-23 10:04:33$2022-12-23 15:44:59$$NONE$$"### Pandas version checks

- [X] I have checked that this issue has not already been reported.

- [X] I have confirmed this bug exists on the [latest version](https://pandas.pydata.org/docs/whatsnew/index.html) of pandas.

- [ ] I have confirmed this bug exists on the main branch of pandas.


### Reproducible Example

```python
import pandas as pd
data = pd.read_csv('file.csv', sep='', encoding = 'ISO-8859-1', engine='python', on_bad_lines='warn', nrows=2845060)
```


### Issue Description

Read_csv with on_bad_lines AND nrows at the same time appears to not follow the correct on_bad_lines logic. When I run the above example without the nrows argument, I get the following warning:

Skipping line 2845058: '' expected after '""'

But running with nrows argument included, it errors out with the following message: (same happens when I use on_bad_lines='skip' instead of 'warn')

Error: '' expected after '""'

### Expected Behavior

The on_bad_lines logic should continue to work when using nrows so I should see the 'Skipping line' warning.

### Installed Versions

<details>

INSTALLED VERSIONS
------------------
commit           : 8dab54d6573f7186ff0c3b6364d5e4dd635ff3e7
python           : 3.10.6.final.0
python-bits      : 64
OS               : Windows
OS-release       : 10
Version          : 10.0.19044
machine          : AMD64
processor        : Intel64 Family 6 Model 154 Stepping 3, GenuineIntel
byteorder        : little
LC_ALL           : None
LANG             : None
LOCALE           : English_United Kingdom.1252

pandas           : 1.5.2
numpy            : 1.23.2
pytz             : 2022.1
dateutil         : 2.8.2
setuptools       : 63.2.0
pip              : 22.2.2
Cython           : None
pytest           : None
hypothesis       : None
...
xlrd             : 2.0.1
xlwt             : None
zstandard        : None
tzdata           : None

</details>
"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50409/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50409/timeline$$$$
https://api.github.com/repos/pandas-dev/pandas/issues/50408$https://api.github.com/repos/pandas-dev/pandas$https://api.github.com/repos/pandas-dev/pandas/issues/50408/labels{/name}$https://api.github.com/repos/pandas-dev/pandas/issues/50408/comments$https://api.github.com/repos/pandas-dev/pandas/issues/50408/events$https://github.com/pandas-dev/pandas/pull/50408$1509071505$PR_kwDOAA0YD85GGv7x$50408$STYLE: prohibit parsing exeption messages${'login': 'luke396', 'id': 77875500, 'node_id': 'MDQ6VXNlcjc3ODc1NTAw', 'avatar_url': 'https://avatars.githubusercontent.com/u/77875500?v=4', 'gravatar_id': '', 'url': 'https://api.github.com/users/luke396', 'html_url': 'https://github.com/luke396', 'followers_url': 'https://api.github.com/users/luke396/followers', 'following_url': 'https://api.github.com/users/luke396/following{/other_user}', 'gists_url': 'https://api.github.com/users/luke396/gists{/gist_id}', 'starred_url': 'https://api.github.com/users/luke396/starred{/owner}{/repo}', 'subscriptions_url': 'https://api.github.com/users/luke396/subscriptions', 'organizations_url': 'https://api.github.com/users/luke396/orgs', 'repos_url': 'https://api.github.com/users/luke396/repos', 'events_url': 'https://api.github.com/users/luke396/events{/privacy}', 'received_events_url': 'https://api.github.com/users/luke396/received_events', 'type': 'User', 'site_admin': False}$[]$open$False$$[]$$1$2022-12-23 08:50:43$2022-12-25 05:15:54$$CONTRIBUTOR$$"to fix #50353. 

I'm not quite sure I'm doing it right, so I've just tackled some, and  deal them little by little. Welcome some code review and comments to help me determine that I'm in the right way!"${'url': 'https://api.github.com/repos/pandas-dev/pandas/issues/50408/reactions', 'total_count': 0, '+1': 0, '-1': 0, 'laugh': 0, 'hooray': 0, 'confused': 0, 'heart': 0, 'rocket': 0, 'eyes': 0}$https://api.github.com/repos/pandas-dev/pandas/issues/50408/timeline$$$0.0${'url': 'https://api.github.com/repos/pandas-dev/pandas/pulls/50408', 'html_url': 'https://github.com/pandas-dev/pandas/pull/50408', 'diff_url': 'https://github.com/pandas-dev/pandas/pull/50408.diff', 'patch_url': 'https://github.com/pandas-dev/pandas/pull/50408.patch', 'merged_at': None}
